<!doctype html>
<html>

<head>
  <title>Socket.IO Image Transfer</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.0/socket.io.js"></script>
</head>

<body style="background-color:#1a1a1a">
  <img id="transmitted-image" style="display: block; width:80vh; height: 80vh; margin: 10vh auto">

  <script>
    let socket = io()
    socket.emit('ready message')
    socket.emit('new image plz')
    setInterval(()=>socket.emit('new image plz'),1000)
    let image = document.querySelector('#transmitted-image')
    socket.on('imageConversionByServer', (data) => {
      image.setAttribute('src', data)
      console.log("image updated")
    })

  </script>

</body>

</html>
